## Основная схема гражданской станции "Альтруист"

Разработка **гражданской станции "Альтруист"** основана на следующих ключевых компонентах:

### **Блок питания**

Блок питания построен на микросхеме [SY50282](https://github.com/airalab/hardware/blob/main/Altruist/ESP32C3/Docs/Datasheets/SY50282FAC_C178237.pdf), которая является PWM-контроллером. Он обеспечивает регулирование тока и напряжения, управляя Buck-конвертером в квазирезонансном режиме для достижения высокой эффективности и улучшенных характеристик EMI.

**Безопасность питания:**
- Переменное сетевое напряжение 220 В подается через предохранитель, после которого установлен варистор типа **07D471K**. Варистор подключен **параллельно между фазным и нулевым проводниками** и обеспечивает защиту от скачков напряжения. Если напряжение в сети превышает порог срабатывания варистора (385 В), его сопротивление резко уменьшается, и он шунтирует избыточную энергию, ограничивая напряжение на входе схемы. Это защищает последующие компоненты от повреждений. В случае значительного или продолжительного скачка напряжения предохранитель размыкает цепь, предотвращая перегрев и выход из строя варистора, а также обеспечивая дополнительную защиту всей схемы.
- Схема также включает DC-DC линейный преобразователь, который снижает напряжение с 5 В до 3,3 В для подключения через USB Type-C и от AC-DC источника питания.

> [!WARNING]
> ## **Важно**
>
> **Схема питания не изолирована, поэтому запрещается прикасаться к устройству при подключении к сети переменного тока. Также запрещено подключать устройство через порт Type-C к ПК без специального изолирующего устройства, чтобы избежать повреждения ПК и поражения электрическим током.**
> **Пожалуйста, изучите [образовательные материалы](https://resources.altium.com/p/isolated-vs-non-isolated-power-supplies-right-choice-without-fail) по теме источников питания.**

### **Микропроцессор**

В качестве процессора используется серия SoC ESP32-C3 от Espressif Systems. Применяется модуль [ESP32-C3-MINI-1-N4](https://github.com/airalab/hardware/blob/main/Altruist/ESP32C3/Docs/Datasheets/ESP32-C3-MINI-1_N4_C2838502.pdf), который поддерживает Wi-Fi 2,4 ГГц (IEEE 802.11b/g/n) и Bluetooth 5. На плате есть кнопка для перевода микроконтроллера в режим программирования.

**Преимущества модуля:**
- Не требуются дополнительные расчеты согласования импеданса для антенны.
- Порт USB Type-C можно использовать напрямую для программирования и отладки прошивки благодаря встроенному USB Serial/JTAG контроллеру.

### **Индикация**

На печатной плате установлены два светодиодных индикатора:
- Один указывает на наличие питания 5 В от AC-DC преобразователя.
- Другой указывает на наличие питания 3,3 В после линейного стабилизатора напряжения для питания ESP32C3 и внешних датчиков.

### **Разъемы для подключения датчиков**

На плате имеются разъемы для подключения различных датчиков:
- **XH2.54-5P**: Для датчика частиц [SDS011]((https://github.com/airalab/hardware/blob/main/Altruist/ESP32C3/Docs/Datasheets/SDS011-DATASHEET.pdf)).
- **HY2.0-4P**: Для датчика температуры, влажности и давления [BME280](https://github.com/airalab/hardware/blob/main/Altruist/ESP32C3/Docs/Datasheets/BME280_C92489.pdf).
- **ZH1.5-5**: Для датчика шума [ICS-43434](https://github.com/airalab/hardware/blob/main/Altruist/ESP32C3/Docs/Datasheets/ICS-43434_C5656610.pdf).
- **XH-4**: Для датчика радиации [RadSens](https://github.com/climateguard/RadSens/blob/master/extras/datasheets/RadSens_datasheet_ENG.pdf).
- **SH1.0-4P**: Для GPS [BN220](https://github.com/airalab/hardware/blob/main/Altruist/ESP32C3/Docs/Datasheets/BN-220%20GPS%2BAntenna%20datasheet.pdf).
